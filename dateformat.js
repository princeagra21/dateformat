function dateformat(a,b,c){let d="";a=a instanceof Date?a:new Date(a),b=b===undefined?"DD mmmm YYYY(dddd) at hh":b,c=c===undefined?"en":c;for(let e=0;e<b.length;e++)switch(b[e]){case"m":"m"==b[e+1]?"m"==b[e+3]?(d+=Intl.DateTimeFormat(c,{month:"long"}).format(a),e++,e++,e++):"m"==b[e+2]?(d+=Intl.DateTimeFormat(c,{month:"short"}).format(a),e++,e++):"m"==b[e+1]?(d+=Intl.DateTimeFormat(c,{month:"2-digit"}).format(a),e++):d+=b[e]:d+=b[e];break;case"M":"M"==b[e+1]?"M"==b[e+3]?(d+=Intl.DateTimeFormat(c,{month:"long"}).format(a).toUpperCase(),e++,e++,e++):"M"==b[e+2]?(d+=Intl.DateTimeFormat(c,{month:"short"}).format(a).toUpperCase(),e++,e++):"M"==b[e+1]?(d+=Intl.DateTimeFormat(c,{month:"2-digit"}).format(a).toUpperCase(),e++):d+=b[e]:d+=b[e];break;case"d":"d"==b[e+1]?"d"==b[e+3]?(d+=Intl.DateTimeFormat(c,{weekday:"long"}).format(a),e++,e++,e++):"d"==b[e+2]?(d+=Intl.DateTimeFormat(c,{weekday:"short"}).format(a),e++,e++):"d"==b[e+1]?(d+=Intl.DateTimeFormat(c,{day:"2-digit"}).format(a),e++):d+=b[e]:d+=b[e];break;case"D":"D"==b[e+1]?"D"==b[e+3]?(d+=Intl.DateTimeFormat(c,{weekday:"long"}).format(a).toUpperCase(),e++,e++,e++):"D"==b[e+2]?(d+=Intl.DateTimeFormat(c,{weekday:"short"}).format(a).toUpperCase(),e++,e++):"D"==b[e+1]?(d+=Intl.DateTimeFormat(c,{day:"2-digit"}).format(a).toUpperCase(),e++):d+=b[e]:d+=b[e];break;case"Y":"Y"==b[e+1]?"Y"==b[e+3]?(d+=Intl.DateTimeFormat(c,{year:"numeric"}).format(a),e++,e++,e++):"Y"==b[e+2]?(d+=Intl.DateTimeFormat(c,{year:"numeric"}).format(a),e++,e++):"Y"==b[e+1]?(d+=Intl.DateTimeFormat(c,{year:"2-digit"}).format(a),e++):d+=b[e]:d+=b[e];break;case"y":"y"==b[e+1]?"y"==b[e+3]?(d+=Intl.DateTimeFormat(c,{year:"numeric"}).format(a),e++,e++,e++):"y"==b[e+2]?(d+=Intl.DateTimeFormat(c,{year:"numeric"}).format(a),e++,e++):"y"==b[e+1]?(d+=Intl.DateTimeFormat(c,{year:"2-digit"}).format(a),e++):d+=b[e]:d+=b[e];break;case"H":"H"==b[e+1]?(d+=Intl.DateTimeFormat(c,{hour:"numeric",minute:"numeric"}).format(a),e++):d+=b[e];break;case"h":"h"==b[e+1]?(d+=Intl.DateTimeFormat(c,{hour:"numeric",minute:"numeric"}).format(a),e++):d+=b[e];break;default:d+=b[e];}return d}
